{"ast":null,"code":"import * as actionTypes from './types.js';\nimport dummyData from './dummyData.js';\nconst initialState = {\n  products: dummyData,\n  portfolio: [],\n  currentItem: null\n};\n\nconst shopReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.BUY:\n      const item = state.products.find(prod => prod.symbol === action.payload.id);\n      const inPortfolio = state.portfolio.find(item => item.symbol === action.payload.id ? true : false);\n      const quant = parseInt(action.payload.qty);\n      return { ...state,\n        portfolio: inPortfolio ? state.portfolio.map(i => i.symbol === action.payload.id ? { ...i,\n          quantity: i.quantity + quant\n        } : i) : [...state.portfolio, { ...item,\n          quantity: quant\n        }]\n      };\n\n    case actionTypes.SELL:\n      const inPort = state.portfolio.find(item => item.symbol === action.payload.id ? true : false);\n\n      const remover = element => {\n        state.portfolio.remove(element);\n      };\n\n      const q = parseInt(action.payload.qty);\n      return { ...state,\n        portfolio: inPort ? state.portfolio.map(i => i.symbol === action.payload.id && i.quantity >= q ? i.quantity - q === 0 ? null : { ...i,\n          quantity: i.quantity - q\n        } : i) : state.portfolio\n      };\n\n    case actionTypes.VIEW:\n      return {\n        currentItem: action.payload.id\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["C:/Users/PRATHAM/Desktop/StockDashBoard/dashboard/src/redux/reducer.js"],"names":["actionTypes","dummyData","initialState","products","portfolio","currentItem","shopReducer","state","action","type","BUY","item","find","prod","symbol","payload","id","inPortfolio","quant","parseInt","qty","map","i","quantity","SELL","inPort","remover","element","remove","q","VIEW"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,YAA7B;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,MAAMC,YAAY,GAAC;AACfC,EAAAA,QAAQ,EAACF,SADM;AAEfG,EAAAA,SAAS,EAAC,EAFK;AAGfC,EAAAA,WAAW,EAAC;AAHG,CAAnB;;AAMA,MAAMC,WAAW,GAAC,CAACC,KAAK,GAACL,YAAP,EAAoBM,MAApB,KAA6B;AAC3C,UAAOA,MAAM,CAACC,IAAd;AAEI,SAAKT,WAAW,CAACU,GAAjB;AACI,YAAMC,IAAI,GAACJ,KAAK,CAACJ,QAAN,CAAeS,IAAf,CAAoBC,IAAI,IAAEA,IAAI,CAACC,MAAL,KAAcN,MAAM,CAACO,OAAP,CAAeC,EAAvD,CAAX;AACA,YAAMC,WAAW,GAACV,KAAK,CAACH,SAAN,CAAgBQ,IAAhB,CAAqBD,IAAI,IAAEA,IAAI,CAACG,MAAL,KAAcN,MAAM,CAACO,OAAP,CAAeC,EAA7B,GAAgC,IAAhC,GAAqC,KAAhE,CAAlB;AACA,YAAME,KAAK,GAACC,QAAQ,CAACX,MAAM,CAACO,OAAP,CAAeK,GAAhB,CAApB;AACJ,aAAM,EACG,GAAGb,KADN;AAEGH,QAAAA,SAAS,EAACa,WAAW,GACrBV,KAAK,CAACH,SAAN,CAAgBiB,GAAhB,CACKC,CAAD,IACAA,CAAC,CAACR,MAAF,KAAWN,MAAM,CAACO,OAAP,CAAeC,EAA1B,GACA,EAAC,GAAGM,CAAJ;AAAMC,UAAAA,QAAQ,EAACD,CAAC,CAACC,QAAF,GAAWL;AAA1B,SADA,GACiCI,CAHrC,CADqB,GAKjB,CAAC,GAAGf,KAAK,CAACH,SAAV,EAAoB,EAAC,GAAGO,IAAJ;AAASY,UAAAA,QAAQ,EAACL;AAAlB,SAApB;AAPP,OAAN;;AASA,SAAKlB,WAAW,CAACwB,IAAjB;AACI,YAAMC,MAAM,GAAClB,KAAK,CAACH,SAAN,CAAgBQ,IAAhB,CAAqBD,IAAI,IAAEA,IAAI,CAACG,MAAL,KAAcN,MAAM,CAACO,OAAP,CAAeC,EAA7B,GAAgC,IAAhC,GACnC,KADQ,CAAb;;AAEA,YAAMU,OAAO,GAAEC,OAAD,IAAW;AACrBpB,QAAAA,KAAK,CAACH,SAAN,CAAgBwB,MAAhB,CAAuBD,OAAvB;AACH,OAFD;;AAIA,YAAME,CAAC,GAACV,QAAQ,CAACX,MAAM,CAACO,OAAP,CAAeK,GAAhB,CAAhB;AAEA,aAAM,EACN,GAAGb,KADG;AAEDH,QAAAA,SAAS,EAACqB,MAAM,GAChBlB,KAAK,CAACH,SAAN,CAAgBiB,GAAhB,CACKC,CAAD,IACAA,CAAC,CAACR,MAAF,KAAWN,MAAM,CAACO,OAAP,CAAeC,EAA1B,IACAM,CAAC,CAACC,QAAF,IAAYM,CADZ,GAEAP,CAAC,CAACC,QAAF,GAAWM,CAAX,KAAe,CAAf,GAAiB,IAAjB,GAEA,EAAC,GAAGP,CAAJ;AAAMC,UAAAA,QAAQ,EAACD,CAAC,CAACC,QAAF,GAAWM;AAA1B,SAJA,GAKCP,CAPL,CADgB,GAUXf,KAAK,CAACH;AAZV,OAAN;;AAcJ,SAAKJ,WAAW,CAAC8B,IAAjB;AAAsB,aAAM;AACrBzB,QAAAA,WAAW,EAACG,MAAM,CAACO,OAAP,CAAeC;AADN,OAAN;;AAGtB;AAAQ,aAAOT,KAAP;AAzCZ;AA2CH,CA5CD;;AA6CA,eAAeD,WAAf","sourcesContent":["import * as actionTypes from './types.js';\r\nimport dummyData from './dummyData.js';\r\nconst initialState={\r\n    products:dummyData,\r\n    portfolio:[],\r\n    currentItem:null,\r\n}\r\n\r\nconst shopReducer=(state=initialState,action)=>{\r\n    switch(action.type)\r\n    {\r\n        case actionTypes.BUY:\r\n            const item=state.products.find(prod=>prod.symbol===action.payload.id)\r\n            const inPortfolio=state.portfolio.find(item=>item.symbol===action.payload.id?true:false);\r\n            const quant=parseInt(action.payload.qty)\r\n        return{\r\n                 ...state,\r\n                 portfolio:inPortfolio?\r\n                 state.portfolio.map(\r\n                     (i)=>\r\n                     i.symbol===action.payload.id?\r\n                     {...i,quantity:i.quantity+quant}:i):\r\n                     [...state.portfolio,{...item,quantity:quant}]\r\n        };\r\n        case actionTypes.SELL:\r\n            const inPort=state.portfolio.find(item=>item.symbol===action.payload.id?true:\r\n                 false);\r\n            const remover=(element)=>{\r\n                state.portfolio.remove(element);\r\n            }\r\n            \r\n            const q=parseInt(action.payload.qty)\r\n\r\n            return{\r\n            ...state,\r\n                 portfolio:inPort?\r\n                 state.portfolio.map(\r\n                     (i)=>\r\n                     i.symbol===action.payload.id&&\r\n                     i.quantity>=q?\r\n                     i.quantity-q===0?null\r\n                     :\r\n                     {...i,quantity:i.quantity-q}\r\n                     :i\r\n                     )\r\n                     :state.portfolio\r\n        }\r\n        case actionTypes.VIEW:return{\r\n               currentItem:action.payload.id\r\n        }\r\n        default:return state;\r\n    }\r\n};\r\nexport default shopReducer;\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}